import { shapeComponent, ShapeComponent } from "set-state-compare/build/shape-component";
import EventEmitter from "eventemitter3";
import React from "react";
import { View } from "react-native";
const TableContext = React.createContext();
export { TableContext };
export default React.memo(shapeComponent(class Table extends ShapeComponent {
    events = new EventEmitter();
    headers = {};
    headersCount = 0;
    rows = {};
    rowsCount = 0;
    setup() {
        this.tableContext = React.useMemo(() => ({
            events: this.events,
            table: this
        }), []);
        React.useMemo(() => {
            if (typeof this.events.setMaxListeners == "function") {
                this.events.setMaxListeners(9999);
            }
        }, []);
    }
    render() {
        const { children, onLayout, style, ...restProps } = this.props;
        const tableStyle = React.useMemo(() => {
            return Object.assign({}, style);
        }, [style]);
        return (React.createElement(TableContext.Provider, { value: this.tableContext },
            React.createElement(View, { onLayout: this.tt.onLayout, style: tableStyle, ...restProps }, children)));
    }
    onLayout = (e, ...restArgs) => {
        if (this.props.onLayout)
            this.props.onLayout(e, ...restArgs);
        this.width = e.nativeEvent.layout.width;
        this.events.emit("table-width-changed", { width: this.width });
        this.setColumnWidthsLater();
    };
    onMountHeader({ header }) {
        const position = this.headersCount;
        this.headersCount++;
        const headerData = {
            header,
            position,
            width: null
        };
        this.headers[header.id] = headerData;
        return headerData;
    }
    onUnmountHeader({ header }) {
        delete this.headers[header.id];
        this.headersCount--;
        this.setColumnWidthsLater();
    }
    onMountRow({ row }) {
        const rowData = {
            row,
            position: this.rowsCount
        };
        this.rowsCount++;
        this.rows[row.id] = rowData;
        return rowData;
    }
    onUnmountRow({ row }) {
        delete this.rows[row.id];
        this.rowsCount--;
    }
    setColumnWidthsLater() {
        clearTimeout(this.setColumnWidthsLaterTimeout);
        this.setColumnWidthsLaterTimeout = setTimeout(this.tt.setColumnWidths, 0);
    }
    setColumnWidths = () => {
        const { headers, width } = this.tt;
        const headersCount = this.headersCount;
        if (width === null || headersCount === 0) {
            return;
        }
        let widthOfHeadersWithSetWidth = 0;
        let headersWidthoutSetWidth = 0;
        for (const headerID in headers) {
            const headerData = headers[headerID];
            const header = headerData.header;
            if (header.props.width !== undefined) {
                widthOfHeadersWithSetWidth += header.props.width;
            }
            else {
                headersWidthoutSetWidth++;
            }
        }
        const restWidth = width - widthOfHeadersWithSetWidth;
        const headerDefaultWidth = headersWidthoutSetWidth > 0 ? (restWidth / headersWidthoutSetWidth) : 0;
        for (const headerID in headers) {
            const headerData = headers[headerID];
            const newWidth = headerData.header.props.width || headerDefaultWidth;
            if (headerData.width !== newWidth) {
                headerData.width = newWidth;
                this.tableContext.events.emit(`column-width-changed-${headerID}`, {
                    width: newWidth
                });
            }
        }
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdGFibGUuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxjQUFjLEVBQUUsY0FBYyxFQUFDLE1BQU0seUNBQXlDLENBQUE7QUFDdEYsT0FBTyxZQUFZLE1BQU0sZUFBZSxDQUFBO0FBQ3hDLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sY0FBYyxDQUFBO0FBRWpDLE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQTtBQUUxQyxPQUFPLEVBQUMsWUFBWSxFQUFDLENBQUE7QUFFckIsZUFBZSxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEtBQU0sU0FBUSxjQUFjO0lBQ3pFLE1BQU0sR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFBO0lBQzNCLE9BQU8sR0FBRyxFQUFFLENBQUE7SUFDWixZQUFZLEdBQUcsQ0FBQyxDQUFBO0lBQ2hCLElBQUksR0FBRyxFQUFFLENBQUE7SUFDVCxTQUFTLEdBQUcsQ0FBQyxDQUFBO0lBRWIsS0FBSztRQUNILElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNuQixLQUFLLEVBQUUsSUFBSTtTQUNaLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUVQLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQ2pCLElBQUksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsSUFBSSxVQUFVLEVBQUUsQ0FBQztnQkFDckQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsQ0FBQztRQUNILENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUNSLENBQUM7SUFFRCxNQUFNO1FB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TUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsUUFBUSxFQUFFLEVBQUU7b0JBQ2hFLEtBQUssRUFBRSxRQUFRO2lCQUNoQixDQUFDLENBQUE7WUFDSixDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUMsQ0FBQTtDQUNGLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtzaGFwZUNvbXBvbmVudCwgU2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnRcIlxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7Vmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5cbmNvbnN0IFRhYmxlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoKVxuXG5leHBvcnQge1RhYmxlQ29udGV4dH1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhzaGFwZUNvbXBvbmVudChjbGFzcyBUYWJsZSBleHRlbmRzIFNoYXBlQ29tcG9uZW50IHtcbiAgZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpXG4gIGhlYWRlcnMgPSB7fVxuICBoZWFkZXJzQ291bnQgPSAwXG4gIHJvd3MgPSB7fVxuICByb3dzQ291bnQgPSAwXG5cbiAgc2V0dXAoKSB7XG4gICAgdGhpcy50YWJsZUNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICBldmVudHM6IHRoaXMuZXZlbnRzLFxuICAgICAgdGFibGU6IHRoaXNcbiAgICB9KSwgW10pXG5cbiAgICBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5ldmVudHMuc2V0TWF4TGlzdGVuZXJzID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aGlzLmV2ZW50cy5zZXRNYXhMaXN0ZW5lcnMoOTk5OSlcbiAgICAgIH1cbiAgICB9LCBbXSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7Y2hpbGRyZW4sIG9uTGF5b3V0LCBzdHlsZSwgLi4ucmVzdFByb3BzfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB0YWJsZVN0eWxlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUpXG4gICAgfSwgW3N0eWxlXSlcblxuICAgIHJldHVybiAoXG4gICAgICA8VGFibGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt0aGlzLnRhYmxlQ29udGV4dH0+XG4gICAgICAgIDxWaWV3IG9uTGF5b3V0PXt0aGlzLnR0Lm9uTGF5b3V0fSBzdHlsZT17dGFibGVTdHlsZX0gey4uLnJlc3RQcm9wc30+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1ZpZXc+XG4gICAgICA8L1RhYmxlQ29udGV4dC5Qcm92aWRlcj5cbiAgICApXG4gIH1cblxuICBvbkxheW91dCA9IChlLCAuLi5yZXN0QXJncykgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLm9uTGF5b3V0KSB0aGlzLnByb3BzLm9uTGF5b3V0KGUsIC4uLnJlc3RBcmdzKVxuXG4gICAgdGhpcy53aWR0aCA9IGUubmF0aXZlRXZlbnQubGF5b3V0LndpZHRoXG4gICAgdGhpcy5ldmVudHMuZW1pdChcInRhYmxlLXdpZHRoLWNoYW5nZWRcIiwge3dpZHRoOiB0aGlzLndpZHRofSlcbiAgICB0aGlzLnNldENvbHVtbldpZHRoc0xhdGVyKClcbiAgfVxuXG4gIG9uTW91bnRIZWFkZXIoe2hlYWRlcn0pIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuaGVhZGVyc0NvdW50XG5cbiAgICB0aGlzLmhlYWRlcnNDb3VudCsrXG5cbiAgICBjb25zdCBoZWFkZXJEYXRhID0ge1xuICAgICAgaGVhZGVyLFxuICAgICAgcG9zaXRpb24sXG4gICAgICB3aWR0aDogbnVsbFxuICAgIH1cblxuICAgIHRoaXMuaGVhZGVyc1toZWFkZXIuaWRdID0gaGVhZGVyRGF0YVxuXG4gICAgcmV0dXJuIGhlYWRlckRhdGFcbiAgfVxuXG4gIG9uVW5tb3VudEhlYWRlcih7aGVhZGVyfSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlYWRlcnNbaGVhZGVyLmlkXVxuICAgIHRoaXMuaGVhZGVyc0NvdW50LS1cbiAgICB0aGlzLnNldENvbHVtbldpZHRoc0xhdGVyKClcbiAgfVxuXG4gIG9uTW91bnRSb3coe3Jvd30pIHtcbiAgICBjb25zdCByb3dEYXRhID0ge1xuICAgICAgcm93LFxuICAgICAgcG9zaXRpb246IHRoaXMucm93c0NvdW50XG4gICAgfVxuXG4gICAgdGhpcy5yb3dzQ291bnQrK1xuICAgIHRoaXMucm93c1tyb3cuaWRdID0gcm93RGF0YVxuXG4gICAgcmV0dXJuIHJvd0RhdGFcbiAgfVxuXG4gIG9uVW5tb3VudFJvdyh7cm93fSkge1xuICAgIGRlbGV0ZSB0aGlzLnJvd3Nbcm93LmlkXVxuICAgIHRoaXMucm93c0NvdW50LS1cbiAgfVxuXG4gIHNldENvbHVtbldpZHRoc0xhdGVyKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnNldENvbHVtbldpZHRoc0xhdGVyVGltZW91dClcblxuICAgIHRoaXMuc2V0Q29sdW1uV2lkdGhzTGF0ZXJUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLnR0LnNldENvbHVtbldpZHRocywgMClcbiAgfVxuXG4gIHNldENvbHVtbldpZHRocyA9ICgpID0+IHtcbiAgICBjb25zdCB7aGVhZGVycywgd2lkdGh9ID0gdGhpcy50dFxuICAgIGNvbnN0IGhlYWRlcnNDb3VudCA9IHRoaXMuaGVhZGVyc0NvdW50XG5cbiAgICBpZiAod2lkdGggPT09IG51bGwgfHwgaGVhZGVyc0NvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgd2lkdGhPZkhlYWRlcnNXaXRoU2V0V2lkdGggPSAwXG4gICAgbGV0IGhlYWRlcnNXaWR0aG91dFNldFdpZHRoID0gMFxuXG4gICAgZm9yIChjb25zdCBoZWFkZXJJRCBpbiBoZWFkZXJzKSB7XG4gICAgICBjb25zdCBoZWFkZXJEYXRhID0gaGVhZGVyc1toZWFkZXJJRF1cbiAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlckRhdGEuaGVhZGVyXG5cbiAgICAgIGlmIChoZWFkZXIucHJvcHMud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3aWR0aE9mSGVhZGVyc1dpdGhTZXRXaWR0aCArPSBoZWFkZXIucHJvcHMud2lkdGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWRlcnNXaWR0aG91dFNldFdpZHRoKytcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZXN0V2lkdGggPSB3aWR0aCAtIHdpZHRoT2ZIZWFkZXJzV2l0aFNldFdpZHRoXG4gICAgY29uc3QgaGVhZGVyRGVmYXVsdFdpZHRoID0gaGVhZGVyc1dpZHRob3V0U2V0V2lkdGggPiAwID8gKHJlc3RXaWR0aCAvIGhlYWRlcnNXaWR0aG91dFNldFdpZHRoKSA6IDBcblxuICAgIGZvciAoY29uc3QgaGVhZGVySUQgaW4gaGVhZGVycykge1xuICAgICAgY29uc3QgaGVhZGVyRGF0YSA9IGhlYWRlcnNbaGVhZGVySURdXG4gICAgICBjb25zdCBuZXdXaWR0aCA9IGhlYWRlckRhdGEuaGVhZGVyLnByb3BzLndpZHRoIHx8IGhlYWRlckRlZmF1bHRXaWR0aFxuXG4gICAgICBpZiAoaGVhZGVyRGF0YS53aWR0aCAhPT0gbmV3V2lkdGgpIHtcbiAgICAgICAgaGVhZGVyRGF0YS53aWR0aCA9IG5ld1dpZHRoXG5cbiAgICAgICAgdGhpcy50YWJsZUNvbnRleHQuZXZlbnRzLmVtaXQoYGNvbHVtbi13aWR0aC1jaGFuZ2VkLSR7aGVhZGVySUR9YCwge1xuICAgICAgICAgIHdpZHRoOiBuZXdXaWR0aFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufSkpXG4iXX0=